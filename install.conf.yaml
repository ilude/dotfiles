- defaults:
    link:
      relink: true
      force: true
      create: true

- clean: ['~']

# Cross-platform shell configs
- link:
    ~/.config/git/config: config/git/config
    ~/.config/git/ignore: config/git/ignore
    ~/.zshenv: home/.zshenv
    ~/.zshrc: home/.zshrc
    ~/.zprofile: home/.zprofile
    ~/.profile: home/.profile
    ~/.bashrc: home/.bashrc
    ~/.bash_profile: home/.bash_profile
    ~/.inputrc: home/.inputrc
    ~/.hushlogin: home/.hushlogin
    ~/.dircolors: home/.dircolors

# Claude Code config
- link:
    ~/.claude: claude
    ~/.config/opencode: opencode

# Oh My Posh config (works on both platforms)
- link:
    ~/.config/ohmyposh/prompt.json: config/ohmyposh/prompt.json

# Git Bash prompt (Windows) - copied by install.ps1, symlinks don't work reliably

# Windows-specific: PowerShell profile
- link:
    ~/Documents/PowerShell/Microsoft.PowerShell_profile.ps1:
      path: powershell/profile.ps1
      if: '[ "$OSTYPE" = "msys" ] || [ "$OSTYPE" = "cygwin" ] || [ -n "$WINDIR" ]'

# VS Code settings - Windows
- link:
    ~/AppData/Roaming/Code/User/settings.json:
      path: vscode/settings.json
      if: '[ "$OSTYPE" = "msys" ] || [ "$OSTYPE" = "cygwin" ] || [ -n "$WINDIR" ]'
    ~/AppData/Roaming/Code/User/keybindings.json:
      path: vscode/keybindings.json
      if: '[ "$OSTYPE" = "msys" ] || [ "$OSTYPE" = "cygwin" ] || [ -n "$WINDIR" ]'

# VS Code settings - macOS
- link:
    ~/Library/Application Support/Code/User/settings.json:
      path: vscode/settings.json
      if: '[ "$(uname)" = "Darwin" ]'
    ~/Library/Application Support/Code/User/keybindings.json:
      path: vscode/keybindings.json
      if: '[ "$(uname)" = "Darwin" ]'

# VS Code settings - Linux
- link:
    ~/.config/Code/User/settings.json:
      path: vscode/settings.json
      if: '[ "$(uname)" = "Linux" ] && [ -z "$WINDIR" ]'
    ~/.config/Code/User/keybindings.json:
      path: vscode/keybindings.json
      if: '[ "$(uname)" = "Linux" ] && [ -z "$WINDIR" ]'
