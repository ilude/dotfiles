# Quality Validation Configuration
# Add a language by adding a block. No code changes needed.
# Install commands use platform detection: winget (Windows), brew (macOS), apt (Debian/Ubuntu)

python:
  extensions: [".py"]
  markers: ["pyproject.toml", "setup.py", "requirements.txt"]
  validators:
    - name: ruff-check
      command: ["ruff", "check", "{file}"]
      check: "ruff"
    - name: ruff-format
      command: ["ruff", "format", "--check", "{file}"]
      check: "ruff"
  install:
    winget: null
    brew: null
    apt: null
    pip: "uv tool install ruff"

typescript:
  extensions: [".ts", ".tsx", ".js", ".jsx"]
  markers: ["package.json", "tsconfig.json"]
  validators:
    - name: biome
      command: ["bunx", "--bun", "@biomejs/biome", "check", "{file}"]
      check: "bun"
  install:
    winget: "winget install Oven-sh.Bun"
    brew: "brew install oven-sh/bun/bun"
    apt: "curl -fsSL https://bun.sh/install | bash"
    npm: "bun add -D @biomejs/biome"

shell:
  extensions: [".sh", ".bash"]
  markers: ["Makefile", ".shellcheckrc"]
  validators:
    - name: shellcheck
      command: ["shellcheck", "{file}"]
      check: "shellcheck"
  install:
    winget: "winget install koalaman.shellcheck"
    brew: "brew install shellcheck"
    apt: "sudo apt install shellcheck"

go:
  extensions: [".go"]
  markers: ["go.mod"]
  validators:
    - name: go-vet
      command: ["go", "vet", "{file}"]
      check: "go"
  install:
    winget: "winget install GoLang.Go"
    brew: "brew install go"
    apt: "sudo apt install golang-go"
